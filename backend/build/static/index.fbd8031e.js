import{j as S,c as V,r as f,l as P,u as j,N as T,R as H,a as q,B as I,b as W,d as B}from"./vendor.2724980e.js";const D=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function p(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerpolicy&&(r.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?r.credentials="include":n.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(n){if(n.ep)return;n.ep=!0;const r=p(n);fetch(n.href,r)}};D();var Y=[{label:"angry",coordinate:{x:-.42,y:.79}},{label:"afraid",coordinate:{x:-.26,y:.79}},{label:"distressed",coordinate:{x:-.69,y:.56}},{label:"jealous",coordinate:{x:-.08,y:.56}},{label:"insulted",coordinate:{x:-.73,y:.2}},{label:"suspicious",coordinate:{x:-.32,y:.27}},{label:"miserable",coordinate:{x:-.92,y:-.13}},{label:"dissatisfied",coordinate:{x:-.61,y:-.17}},{label:"worried",coordinate:{x:-.08,y:-.33}},{label:"sad",coordinate:{x:-.82,y:-.4}},{label:"ashamed",coordinate:{x:-.42,y:-.5}},{label:"bored",coordinate:{x:-.33,y:-.79}},{label:"tired",coordinate:{x:-.2,y:-.99}},{label:"astonished",coordinate:{x:.42,y:.89}},{label:"excited",coordinate:{x:.7,y:.72}},{label:"convinced",coordinate:{x:.42,y:.42}},{label:"delighted",coordinate:{x:.88,y:.37}},{label:"happy",coordinate:{x:.9,y:.16}},{label:"impressed",coordinate:{x:.38,y:-.07}},{label:"glad",coordinate:{x:.93,y:-.18}},{label:"attentive",coordinate:{x:.48,y:-.47}},{label:"serene",coordinate:{x:.83,y:-.5}},{label:"serious",coordinate:{x:.23,y:-.67}},{label:"relaxed",coordinate:{x:.72,y:-.66}},{label:"compassionate",coordinate:{x:.37,y:-.92}}];const e=S.exports.jsx,o=S.exports.jsxs,Q=S.exports.Fragment;function F(a){return e("div",{className:"absolute w-1 h-1 flex items-center justify-center",style:{top:a.top,left:a.left},children:e("span",{id:a.label,className:"text-tiny transform hover:scale-175 p-4",children:a.label},a.i)})}const R=V(a=>({startX:0,startY:0,endX:0,endY:0,length:30,genre:"rock",name:"Mood Vector Name!",cnvCtx:null,setStartX:t=>a({startX:t}),setStartY:t=>a({startY:t}),setEndX:t=>a({endX:t}),setEndY:t=>a({endY:t}),setLength:t=>a({length:t}),setGenre:t=>a({genre:t}),setName:t=>a({name:t}),setCnvCtx:t=>a({cnvCtx:t})})),J=new URL("/assets/colors.bf984cf8.png",self.location).href;function _({squareWidth:a}){const[t,p]=f.exports.useState(parseInt(a)),[d,n]=f.exports.useState(!1),[r,u]=f.exports.useState(L()),[h,v]=f.exports.useState(null),{startX:w,startY:y,endX:z,endY:b,setStartX:N,setStartY:k,setEndX:O,setEndY:A,cnvCtx:c,setCnvCtx:C}=R();f.exports.useEffect(()=>{let l=document.getElementById("cnv"),s=l.getContext("2d"),m=document.getElementById("colors");s.createPattern(m,"repeat"),v(l),C(s)},[]);function L(){let l=[];return Y.forEach(s=>l.push({top:i(s.coordinate.y),left:i(s.coordinate.x),label:s.label})),l}function i(l){let s=(l+1)/2;return Math.floor(s*t)}function E(l){let s=l.clientX-h.getBoundingClientRect().left,m=l.clientY-h.getBoundingClientRect().top;N(s),k(m),n(!0)}function U(l){if(d==!1||typeof c!="object")return;c.clearRect(0,0,t,t);let s=document.getElementById("colors"),m=c.createPattern(s,"repeat");c.strokeStyle=m,c.lineWidth=3,c.lineCap="round",c.beginPath(),c.moveTo(w,y),c.lineTo(l.clientX-h.getBoundingClientRect().left,l.clientY-h.getBoundingClientRect().top),c.stroke()}function M(l,s){if(d==!1||typeof c!="object")return;let m=l.clientX-s.getBoundingClientRect().left,Z=l.clientY-s.getBoundingClientRect().top;O(m),A(Z),n(!1)}return o("div",{className:"relative mx-auto",style:{width:t,height:t},children:[e("img",{id:"colors",src:J,width:t,height:t,className:"object-contain hidden"}),e("canvas",{id:"cnv",width:t,height:t,className:"absolute rounded-lg border border-black"}),o("div",{onMouseDown:l=>E(l),onMouseMove:P.exports.throttle(U,60),onMouseUp:l=>M(l,h),onMouseLeave:l=>M(l,h),id:"canvas",className:"absolute align-middle bg-transparent flex items-center justify-center select-none",style:{width:t,height:t},children:[e("div",{className:"absolute bg-black h-px w-full"}),e("div",{className:"absolute bg-black h-full w-px"}),r.map((l,s)=>e(F,{label:l.label,top:l.top,left:l.left},s))]})]})}function $(){return o("div",{className:"h-6 bg-transparent flex justify-between top-0 sticky mx-3",children:[e("div",{className:"logo text-gray font-bold",children:"SVM"}),o("div",{className:"user text-gray font-bold flex flex-row mx-3",children:[e("div",{className:"username mr-1",children:"Hans Peter"}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})]})]})}const ee=new URL("/assets/roy.1c52fd5f.jpeg",self.location).href;function te(){return o("div",{className:"flex md:flex-col w-11/12 mx-auto mb-3 bg-gray-200 border border-black rounded-lg",children:[e("div",{className:"flex flex-col w-2/5 md:w-full mx-auto py-3 md:py-5",children:e("img",{src:ee,alt:"",className:"w-9/12 md:w-3/4 mx-auto my-auto"})}),o("div",{className:"flex flex-col w-3/5 md:w-full mx-auto py-3 md:py-3 justify-center",children:[o("div",{className:"w-3/4 mx-auto relative",children:[e("div",{className:"w-full bg-black absolute mt-1 top-px",style:{height:2}}),e("div",{className:"h-3 w-3 rounded-full bg-gray-200 border border-black absolute left-10"}),o("div",{className:"progress w-full mt-2 flex justify-between",children:[e("span",{className:"text-sm",children:"1:12"}),e("span",{className:"text-sm",children:"3:36"})]})]}),o("div",{className:"player flex w-1/2 mx-auto justify-around",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{d:"M11 15l-3-3m0 0l3-3m-3 3h8M3 12a9 9 0 1118 0 9 9 0 01-18 0z"})}),o("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 flex-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12 hidden",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{d:"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{d:"M13 9l3 3m0 0l-3 3m3-3H8m13 0a9 9 0 11-18 0 9 9 0 0118 0z"})})]}),o("div",{className:"flex w-1/2 mx-auto justify-around mt-2",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{d:"M14 10h4.764a2 2 0 011.789 2.894l-3.5 7A2 2 0 0115.263 21h-4.017c-.163 0-.326-.02-.485-.06L7 20m7-10V5a2 2 0 00-2-2h-.095c-.5 0-.905.405-.905.905 0 .714-.211 1.412-.608 2.006L7 11v9m7-10h-2M7 20H5a2 2 0 01-2-2v-6a2 2 0 012-2h2.5"})}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-12 w-12",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{d:"M10 14H5.236a2 2 0 01-1.789-2.894l3.5-7A2 2 0 018.736 3h4.018a2 2 0 01.485.06l3.76.94m-7 10v5a2 2 0 002 2h.096c.5 0 .905-.405.905-.904 0-.715.211-1.413.608-2.008L17 13V4m-7 10h2m5-10h2a2 2 0 012 2v6a2 2 0 01-2 2h-2.5"})})]})]})]})}function g({track:a}){return o("div",{className:"w-11/12 h-20 bg-gray-200 mx-auto mb-4 flex rounded-lg border border-black",children:[e("img",{src:a.img,alt:a.track,className:"border-r border-black rounded-l-lg"}),o("div",{className:"song-info text-left flex flex-col my-auto w-full px-3",children:[e("span",{className:"title text-xl",children:a.title}),e("span",{className:"artist",children:a.artist})]}),e("div",{className:"flex items-center mx-2 w-10",children:o("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 flex-none",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})})]})}const ne=new URL("/assets/roy.1c52fd5f.jpeg",self.location).href;let x={title:"Cococabana",artist:"Roy Bianco & die Abrunzanti Boys",img:ne};function oe(){return o("div",{children:[e(g,{track:x}),e(g,{track:x}),e(g,{track:x}),e(g,{track:x}),e(g,{track:x}),e(g,{track:x}),e(g,{track:x})]})}function ae(){return o("div",{className:"w-5/6 h-10 mx-auto my-10 flex items-center relative",children:[e("div",{className:"w-full bg-black absolute",style:{height:2}}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 absolute",style:{right:-9},fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})}function le(){const[a]=j(["csrftoken"]),{startX:t,startY:p,endX:d,endY:n,setStartX:r,setStartY:u,setEndX:h,setEndY:v,length:w,genre:y,name:z,cnvCtx:b,setLength:N,setGenre:k,setName:O}=R(),A=i=>{N(i.target.value)},c=i=>{k(i.target.value)};function C(){r(0),u(0),h(0),v(0);let i=b.canvas.attributes.width.nodeValue;b.clearRect(0,0,i,i)}function L(){(d==0||n==0)&&alert("pls draw vec bro"),fetch("http://localhost:8000/accounts/save_vector",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":a.csrftoken},credentials:"include",body:JSON.stringify({startX:t,startY:p,endX:d,endY:n,length:w,genre:y,name:z})}).then(i=>i.json()).then(i=>{console.log(i)})}return o("div",{className:"flex-row w-3/4 mx-auto mb-4",children:[o("div",{className:"header flex flex-row items-center justify-center gap-3",children:[o("h1",{className:"text-xl",children:["Let us take you from ",e("span",{style:{textShadow:"1px 1px #4895ef"},children:"tired"})," to ",e("span",{style:{textShadow:"1px 1px #B5179E"},children:"energized"})]}),e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-9 w-9 p-2 cursor-pointer bg-gray-400 text-white rounded-full",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:L,children:e("path",{strokeWidth:2,d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})]}),o("div",{className:"filter flex items-end justify-center gap-3",children:[o("div",{className:"length-slider w-1/3 flex-col text-left",children:[e("span",{className:"text-tiny",children:"Playlist length:"}),o("div",{className:"slider flex w-full text-white h-8 bg-gray-400 rounded-md items-center px-3",children:[e("input",{type:"range",onChange:A,min:"10",max:"120",step:"5",className:"bg-gray-400"}),o("span",{className:"text-tiny p-1 w-1/4",children:[w," min"]})]})]}),o("div",{className:"genre-selection w-1/4 flex-col text-left",children:[e("span",{className:"text-tiny",children:"Genre:"}),o("select",{name:"genre",id:"genre",className:"w-full bg-gray-400 rounded-md text-white text-sm h-8",onChange:c,children:[e("option",{value:"rock",children:"Rock"}),e("option",{value:"pop",children:"Pop"}),e("option",{value:"jazz",children:"Jazz"})]})]}),e("div",{className:"reset w-1/8",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 cursor-pointer",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",onClick:C,children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})}),e("div",{className:"save w-1/8 cursor-pointer",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})})})]})]})}function G(){return o("div",{className:"App w-screen bg-white",children:[e($,{}),o("div",{className:"content w-3/4 bg-gray-100 mx-auto my-4 p-4",children:[e(le,{}),e(_,{squareWidth:"800"})]}),o("div",{className:"content w-3/4 bg-gray-100 mx-auto flex flex-wrap",children:[e("div",{className:"w-full flex-none",children:e(ae,{})}),e("div",{className:"flex-auto w-full md:w-1/2",children:e(te,{})}),e("div",{className:"flex-auto w-full md:w-1/2 border-l-2",children:e(oe,{})})]})]})}const K=V(a=>({isAuthenticated:!0,setIsAuthenticated:t=>a({isAuthenticated:t})})),se=new URL("data:image/png;base64,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",self.location).href;function re(){K(n=>n.setIsAuthenticated);const[a,t,p]=j(["csrftoken","sessionid"]);return f.exports.useEffect(()=>{(async()=>{await fetch("http://localhost:8000/accounts/get_csrf_token",{method:"GET",headers:{Accept:"application/json"},credentials:"include"})})()},[]),o("div",{className:"h-screen w-screen grid place-content-center bg-red-500",children:[o("div",{children:[o("h1",{className:"text-white text-6xl",style:{fontFamily:"Source Code Pro"},children:[e("span",{children:"Welcome to the S"}),e("span",{children:"potify"}),e("span",{children:" V"}),e("span",{children:"ector"}),e("span",{children:" M"}),e("span",{children:"achine"})]}),e("div",{className:"h-80"})]}),o("button",{onClick:()=>{fetch("http://localhost:8000/accounts/loginwithspotify",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":a.csrftoken},credentials:"include"}).then(n=>n.json()).then(n=>{console.log(n),(n==null?void 0:n.auth_url)!=""&&window.location.replace(n.auth_url)})},className:"mx-auto w-80 mt-8 rounded-xl px-3 py-1 text-white text-lg align-middle bg-spotify text-white",children:["Login with Spotify",e("img",{style:{height:"30px",width:"30px"},className:"inline pb-1 pl-1",src:se,alt:"Spotify Icon"})]})]})}function X({component:a}){const{isAuthenticated:t,setIsAuthenticated:p}=K(),[d,n,r]=j(["csrftoken"]);return f.exports.useEffect(()=>{const u=async()=>await fetch("http://localhost:8000/accounts/get_csrf_token",{method:"GET",headers:{Accept:"application/json"},credentials:"include"}),h=async()=>{const w=await(await fetch("http://localhost:8000/accounts/check_authentication",{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","X-CSRFToken":d.csrftoken},credentials:"include"})).json();p(w.status)};u(),h()},[t]),e(Q,{children:t?e(a,{}):e(T,{to:"/login"})})}H.render(e(q.StrictMode,{children:e(I,{children:o(W,{children:[e(B,{path:"/",element:e(X,{component:G})}),e(B,{path:"login",element:e(re,{})}),e(B,{path:"*",element:e(X,{component:G})})]})})}),document.getElementById("root"));
